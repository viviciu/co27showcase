{"ast":null,"code":"import { CanvasTexture, Sprite, SpriteMaterial, SRGBColorSpace } from 'three';\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nfunction _arrayWithoutHoles(r) {\n  if (Array.isArray(r)) return _arrayLikeToArray(r);\n}\nfunction _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nfunction _callSuper(t, o, e) {\n  return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e));\n}\nfunction _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nfunction _getPrototypeOf(t) {\n  return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  }, _getPrototypeOf(t);\n}\nfunction _inherits(t, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n  t.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: t,\n      writable: !0,\n      configurable: !0\n    }\n  }), Object.defineProperty(t, \"prototype\", {\n    writable: !1\n  }), e && _setPrototypeOf(t, e);\n}\nfunction _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (_isNativeReflectConstruct = function () {\n    return !!t;\n  })();\n}\nfunction _iterableToArray(r) {\n  if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n}\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _possibleConstructorReturn(t, e) {\n  if (e && (\"object\" == typeof e || \"function\" == typeof e)) return e;\n  if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n  return _assertThisInitialized(t);\n}\nfunction _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nfunction _slicedToArray(r, e) {\n  return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest();\n}\nfunction _toConsumableArray(r) {\n  return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread();\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r);\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return String(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\nvar three = typeof window !== 'undefined' && window.THREE ? window.THREE // Prefer consumption from global THREE, if exists\n: {\n  CanvasTexture: CanvasTexture,\n  Sprite: Sprite,\n  SpriteMaterial: SpriteMaterial,\n  SRGBColorSpace: SRGBColorSpace\n};\nvar _default = /*#__PURE__*/function (_three$Sprite) {\n  function _default() {\n    var _this;\n    var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var textHeight = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n    var color = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'rgba(255, 255, 255, 1)';\n    _classCallCheck(this, _default);\n    _this = _callSuper(this, _default, [new three.SpriteMaterial()]);\n    _this._text = \"\".concat(text);\n    _this._textHeight = textHeight;\n    _this._color = color;\n    _this._backgroundColor = false; // no background color\n\n    _this._padding = 0;\n    _this._borderWidth = 0;\n    _this._borderRadius = 0;\n    _this._borderColor = 'white';\n    _this._strokeWidth = 0;\n    _this._strokeColor = 'white';\n    _this._fontFace = 'system-ui';\n    _this._fontSize = 90; // defines text resolution\n    _this._fontWeight = 'normal';\n    _this._canvas = document.createElement('canvas');\n    _this._genCanvas();\n    return _this;\n  }\n  _inherits(_default, _three$Sprite);\n  return _createClass(_default, [{\n    key: \"text\",\n    get: function get() {\n      return this._text;\n    },\n    set: function set(text) {\n      this._text = text;\n      this._genCanvas();\n    }\n  }, {\n    key: \"textHeight\",\n    get: function get() {\n      return this._textHeight;\n    },\n    set: function set(textHeight) {\n      this._textHeight = textHeight;\n      this._genCanvas();\n    }\n  }, {\n    key: \"color\",\n    get: function get() {\n      return this._color;\n    },\n    set: function set(color) {\n      this._color = color;\n      this._genCanvas();\n    }\n  }, {\n    key: \"backgroundColor\",\n    get: function get() {\n      return this._backgroundColor;\n    },\n    set: function set(color) {\n      this._backgroundColor = color;\n      this._genCanvas();\n    }\n  }, {\n    key: \"padding\",\n    get: function get() {\n      return this._padding;\n    },\n    set: function set(padding) {\n      this._padding = padding;\n      this._genCanvas();\n    }\n  }, {\n    key: \"borderWidth\",\n    get: function get() {\n      return this._borderWidth;\n    },\n    set: function set(borderWidth) {\n      this._borderWidth = borderWidth;\n      this._genCanvas();\n    }\n  }, {\n    key: \"borderRadius\",\n    get: function get() {\n      return this._borderRadius;\n    },\n    set: function set(borderRadius) {\n      this._borderRadius = borderRadius;\n      this._genCanvas();\n    }\n  }, {\n    key: \"borderColor\",\n    get: function get() {\n      return this._borderColor;\n    },\n    set: function set(borderColor) {\n      this._borderColor = borderColor;\n      this._genCanvas();\n    }\n  }, {\n    key: \"fontFace\",\n    get: function get() {\n      return this._fontFace;\n    },\n    set: function set(fontFace) {\n      this._fontFace = fontFace;\n      this._genCanvas();\n    }\n  }, {\n    key: \"fontSize\",\n    get: function get() {\n      return this._fontSize;\n    },\n    set: function set(fontSize) {\n      this._fontSize = fontSize;\n      this._genCanvas();\n    }\n  }, {\n    key: \"fontWeight\",\n    get: function get() {\n      return this._fontWeight;\n    },\n    set: function set(fontWeight) {\n      this._fontWeight = fontWeight;\n      this._genCanvas();\n    }\n  }, {\n    key: \"strokeWidth\",\n    get: function get() {\n      return this._strokeWidth;\n    },\n    set: function set(strokeWidth) {\n      this._strokeWidth = strokeWidth;\n      this._genCanvas();\n    }\n  }, {\n    key: \"strokeColor\",\n    get: function get() {\n      return this._strokeColor;\n    },\n    set: function set(strokeColor) {\n      this._strokeColor = strokeColor;\n      this._genCanvas();\n    }\n  }, {\n    key: \"_genCanvas\",\n    value: function _genCanvas() {\n      var _this2 = this;\n      var canvas = this._canvas;\n      var ctx = canvas.getContext('2d');\n      var border = Array.isArray(this.borderWidth) ? this.borderWidth : [this.borderWidth, this.borderWidth]; // x,y border\n      var relBorder = border.map(function (b) {\n        return b * _this2.fontSize * 0.1;\n      }); // border in canvas units\n\n      var borderRadius = Array.isArray(this.borderRadius) ? this.borderRadius : [this.borderRadius, this.borderRadius, this.borderRadius, this.borderRadius]; // tl tr br bl corners\n      var relBorderRadius = borderRadius.map(function (b) {\n        return b * _this2.fontSize * 0.1;\n      }); // border radius in canvas units\n\n      var padding = Array.isArray(this.padding) ? this.padding : [this.padding, this.padding]; // x,y padding\n      var relPadding = padding.map(function (p) {\n        return p * _this2.fontSize * 0.1;\n      }); // padding in canvas units\n\n      var lines = this.text.split('\\n');\n      var font = \"\".concat(this.fontWeight, \" \").concat(this.fontSize, \"px \").concat(this.fontFace);\n      ctx.font = font; // measure canvas with appropriate font\n      var innerWidth = Math.max.apply(Math, _toConsumableArray(lines.map(function (line) {\n        return ctx.measureText(line).width;\n      })));\n      var innerHeight = this.fontSize * lines.length;\n      canvas.width = innerWidth + relBorder[0] * 2 + relPadding[0] * 2;\n      canvas.height = innerHeight + relBorder[1] * 2 + relPadding[1] * 2;\n\n      // paint border\n      if (this.borderWidth) {\n        ctx.strokeStyle = this.borderColor;\n        if (relBorder[0]) {\n          // left + right borders\n          var hb = relBorder[0] / 2;\n          ctx.lineWidth = relBorder[0];\n          ctx.beginPath();\n          ctx.moveTo(hb, relBorderRadius[0]);\n          ctx.lineTo(hb, canvas.height - relBorderRadius[3]);\n          ctx.moveTo(canvas.width - hb, relBorderRadius[1]);\n          ctx.lineTo(canvas.width - hb, canvas.height - relBorderRadius[2]);\n          ctx.stroke();\n        }\n        if (relBorder[1]) {\n          // top + bottom borders\n          var _hb = relBorder[1] / 2;\n          ctx.lineWidth = relBorder[1];\n          ctx.beginPath();\n          ctx.moveTo(Math.max(relBorder[0], relBorderRadius[0]), _hb);\n          ctx.lineTo(canvas.width - Math.max(relBorder[0], relBorderRadius[1]), _hb);\n          ctx.moveTo(Math.max(relBorder[0], relBorderRadius[3]), canvas.height - _hb);\n          ctx.lineTo(canvas.width - Math.max(relBorder[0], relBorderRadius[2]), canvas.height - _hb);\n          ctx.stroke();\n        }\n        if (this.borderRadius) {\n          // strike rounded corners\n          var cornerWidth = Math.max.apply(Math, _toConsumableArray(relBorder));\n          var _hb2 = cornerWidth / 2;\n          ctx.lineWidth = cornerWidth;\n          ctx.beginPath();\n          [!!relBorderRadius[0] && [relBorderRadius[0], _hb2, _hb2, relBorderRadius[0]], !!relBorderRadius[1] && [canvas.width - relBorderRadius[1], canvas.width - _hb2, _hb2, relBorderRadius[1]], !!relBorderRadius[2] && [canvas.width - relBorderRadius[2], canvas.width - _hb2, canvas.height - _hb2, canvas.height - relBorderRadius[2]], !!relBorderRadius[3] && [relBorderRadius[3], _hb2, canvas.height - _hb2, canvas.height - relBorderRadius[3]]].filter(function (d) {\n            return d;\n          }).forEach(function (_ref) {\n            var _ref2 = _slicedToArray(_ref, 4),\n              x0 = _ref2[0],\n              x1 = _ref2[1],\n              y0 = _ref2[2],\n              y1 = _ref2[3];\n            ctx.moveTo(x0, y0);\n            ctx.quadraticCurveTo(x1, y0, x1, y1);\n          });\n          ctx.stroke();\n        }\n      }\n\n      // paint background\n      if (this.backgroundColor) {\n        ctx.fillStyle = this.backgroundColor;\n        if (!this.borderRadius) {\n          ctx.fillRect(relBorder[0], relBorder[1], canvas.width - relBorder[0] * 2, canvas.height - relBorder[1] * 2);\n        } else {\n          // fill with rounded corners\n          ctx.beginPath();\n          ctx.moveTo(relBorder[0], relBorderRadius[0]);\n          [[relBorder[0], relBorderRadius[0], canvas.width - relBorderRadius[1], relBorder[1], relBorder[1], relBorder[1]],\n          // t\n          [canvas.width - relBorder[0], canvas.width - relBorder[0], canvas.width - relBorder[0], relBorder[1], relBorderRadius[1], canvas.height - relBorderRadius[2]],\n          // r\n          [canvas.width - relBorder[0], canvas.width - relBorderRadius[2], relBorderRadius[3], canvas.height - relBorder[1], canvas.height - relBorder[1], canvas.height - relBorder[1]],\n          // b\n          [relBorder[0], relBorder[0], relBorder[0], canvas.height - relBorder[1], canvas.height - relBorderRadius[3], relBorderRadius[0]] // t\n          ].forEach(function (_ref3) {\n            var _ref4 = _slicedToArray(_ref3, 6),\n              x0 = _ref4[0],\n              x1 = _ref4[1],\n              x2 = _ref4[2],\n              y0 = _ref4[3],\n              y1 = _ref4[4],\n              y2 = _ref4[5];\n            ctx.quadraticCurveTo(x0, y0, x1, y1);\n            ctx.lineTo(x2, y2);\n          });\n          ctx.closePath();\n          ctx.fill();\n        }\n      }\n      ctx.translate.apply(ctx, _toConsumableArray(relBorder));\n      ctx.translate.apply(ctx, _toConsumableArray(relPadding));\n\n      // paint text\n      ctx.font = font; // Set font again after canvas is resized, as context properties are reset\n      ctx.fillStyle = this.color;\n      ctx.textBaseline = 'bottom';\n      var drawTextStroke = this.strokeWidth > 0;\n      if (drawTextStroke) {\n        ctx.lineWidth = this.strokeWidth * this.fontSize / 10;\n        ctx.strokeStyle = this.strokeColor;\n      }\n      lines.forEach(function (line, index) {\n        var lineX = (innerWidth - ctx.measureText(line).width) / 2;\n        var lineY = (index + 1) * _this2.fontSize;\n        drawTextStroke && ctx.strokeText(line, lineX, lineY);\n        ctx.fillText(line, lineX, lineY);\n      });\n\n      // Inject canvas into sprite\n      if (this.material.map) this.material.map.dispose(); // gc previous texture\n      var texture = this.material.map = new three.CanvasTexture(canvas);\n      texture.colorSpace = three.SRGBColorSpace;\n      var yScale = this.textHeight * lines.length + border[1] * 2 + padding[1] * 2;\n      this.scale.set(yScale * canvas.width / canvas.height, yScale, 0);\n    }\n  }, {\n    key: \"clone\",\n    value: function clone() {\n      return new this.constructor(this.text, this.textHeight, this.color).copy(this);\n    }\n  }, {\n    key: \"copy\",\n    value: function copy(source) {\n      three.Sprite.prototype.copy.call(this, source);\n      this.color = source.color;\n      this.backgroundColor = source.backgroundColor;\n      this.padding = source.padding;\n      this.borderWidth = source.borderWidth;\n      this.borderColor = source.borderColor;\n      this.fontFace = source.fontFace;\n      this.fontSize = source.fontSize;\n      this.fontWeight = source.fontWeight;\n      this.strokeWidth = source.strokeWidth;\n      this.strokeColor = source.strokeColor;\n      return this;\n    }\n  }]);\n}(three.Sprite);\nexport { _default as default };","map":{"version":3,"names":["CanvasTexture","Sprite","SpriteMaterial","SRGBColorSpace","_arrayLikeToArray","r","a","length","e","n","Array","_arrayWithHoles","isArray","_arrayWithoutHoles","_assertThisInitialized","ReferenceError","_callSuper","t","o","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","apply","_classCallCheck","TypeError","_defineProperties","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","prototype","setPrototypeOf","getPrototypeOf","bind","__proto__","_inherits","create","value","_setPrototypeOf","Boolean","valueOf","call","_iterableToArray","Symbol","iterator","from","_iterableToArrayLimit","l","i","u","f","next","done","push","return","_nonIterableRest","_nonIterableSpread","_slicedToArray","_unsupportedIterableToArray","_toConsumableArray","_toPrimitive","toPrimitive","String","toString","slice","name","test","three","window","THREE","_default","_three$Sprite","_this","text","arguments","undefined","textHeight","color","_text","concat","_textHeight","_color","_backgroundColor","_padding","_borderWidth","_borderRadius","_borderColor","_strokeWidth","_strokeColor","_fontFace","_fontSize","_fontWeight","_canvas","document","createElement","_genCanvas","get","set","padding","borderWidth","borderRadius","borderColor","fontFace","fontSize","fontWeight","strokeWidth","strokeColor","_this2","canvas","ctx","getContext","border","relBorder","map","b","relBorderRadius","relPadding","p","lines","split","font","innerWidth","Math","max","line","measureText","width","innerHeight","height","strokeStyle","hb","lineWidth","beginPath","moveTo","lineTo","stroke","_hb","cornerWidth","_hb2","filter","d","forEach","_ref","_ref2","x0","x1","y0","y1","quadraticCurveTo","backgroundColor","fillStyle","fillRect","_ref3","_ref4","x2","y2","closePath","fill","translate","textBaseline","drawTextStroke","index","lineX","lineY","strokeText","fillText","material","dispose","texture","colorSpace","yScale","scale","clone","copy","source","default"],"sources":["/Users/vivianastaicu/Documents/GitHub/co27showcase/co27showcase/node_modules/three-spritetext/dist/three-spritetext.mjs"],"sourcesContent":["import { CanvasTexture, Sprite, SpriteMaterial, SRGBColorSpace } from 'three';\n\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nfunction _arrayWithoutHoles(r) {\n  if (Array.isArray(r)) return _arrayLikeToArray(r);\n}\nfunction _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nfunction _callSuper(t, o, e) {\n  return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e));\n}\nfunction _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nfunction _getPrototypeOf(t) {\n  return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  }, _getPrototypeOf(t);\n}\nfunction _inherits(t, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n  t.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: t,\n      writable: !0,\n      configurable: !0\n    }\n  }), Object.defineProperty(t, \"prototype\", {\n    writable: !1\n  }), e && _setPrototypeOf(t, e);\n}\nfunction _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (_isNativeReflectConstruct = function () {\n    return !!t;\n  })();\n}\nfunction _iterableToArray(r) {\n  if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n}\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _possibleConstructorReturn(t, e) {\n  if (e && (\"object\" == typeof e || \"function\" == typeof e)) return e;\n  if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n  return _assertThisInitialized(t);\n}\nfunction _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nfunction _slicedToArray(r, e) {\n  return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest();\n}\nfunction _toConsumableArray(r) {\n  return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread();\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r);\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (String )(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\n\nvar three = typeof window !== 'undefined' && window.THREE ? window.THREE // Prefer consumption from global THREE, if exists\n: {\n  CanvasTexture: CanvasTexture,\n  Sprite: Sprite,\n  SpriteMaterial: SpriteMaterial,\n  SRGBColorSpace: SRGBColorSpace\n};\nvar _default = /*#__PURE__*/function (_three$Sprite) {\n  function _default() {\n    var _this;\n    var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var textHeight = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n    var color = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'rgba(255, 255, 255, 1)';\n    _classCallCheck(this, _default);\n    _this = _callSuper(this, _default, [new three.SpriteMaterial()]);\n    _this._text = \"\".concat(text);\n    _this._textHeight = textHeight;\n    _this._color = color;\n    _this._backgroundColor = false; // no background color\n\n    _this._padding = 0;\n    _this._borderWidth = 0;\n    _this._borderRadius = 0;\n    _this._borderColor = 'white';\n    _this._strokeWidth = 0;\n    _this._strokeColor = 'white';\n    _this._fontFace = 'system-ui';\n    _this._fontSize = 90; // defines text resolution\n    _this._fontWeight = 'normal';\n    _this._canvas = document.createElement('canvas');\n    _this._genCanvas();\n    return _this;\n  }\n  _inherits(_default, _three$Sprite);\n  return _createClass(_default, [{\n    key: \"text\",\n    get: function get() {\n      return this._text;\n    },\n    set: function set(text) {\n      this._text = text;\n      this._genCanvas();\n    }\n  }, {\n    key: \"textHeight\",\n    get: function get() {\n      return this._textHeight;\n    },\n    set: function set(textHeight) {\n      this._textHeight = textHeight;\n      this._genCanvas();\n    }\n  }, {\n    key: \"color\",\n    get: function get() {\n      return this._color;\n    },\n    set: function set(color) {\n      this._color = color;\n      this._genCanvas();\n    }\n  }, {\n    key: \"backgroundColor\",\n    get: function get() {\n      return this._backgroundColor;\n    },\n    set: function set(color) {\n      this._backgroundColor = color;\n      this._genCanvas();\n    }\n  }, {\n    key: \"padding\",\n    get: function get() {\n      return this._padding;\n    },\n    set: function set(padding) {\n      this._padding = padding;\n      this._genCanvas();\n    }\n  }, {\n    key: \"borderWidth\",\n    get: function get() {\n      return this._borderWidth;\n    },\n    set: function set(borderWidth) {\n      this._borderWidth = borderWidth;\n      this._genCanvas();\n    }\n  }, {\n    key: \"borderRadius\",\n    get: function get() {\n      return this._borderRadius;\n    },\n    set: function set(borderRadius) {\n      this._borderRadius = borderRadius;\n      this._genCanvas();\n    }\n  }, {\n    key: \"borderColor\",\n    get: function get() {\n      return this._borderColor;\n    },\n    set: function set(borderColor) {\n      this._borderColor = borderColor;\n      this._genCanvas();\n    }\n  }, {\n    key: \"fontFace\",\n    get: function get() {\n      return this._fontFace;\n    },\n    set: function set(fontFace) {\n      this._fontFace = fontFace;\n      this._genCanvas();\n    }\n  }, {\n    key: \"fontSize\",\n    get: function get() {\n      return this._fontSize;\n    },\n    set: function set(fontSize) {\n      this._fontSize = fontSize;\n      this._genCanvas();\n    }\n  }, {\n    key: \"fontWeight\",\n    get: function get() {\n      return this._fontWeight;\n    },\n    set: function set(fontWeight) {\n      this._fontWeight = fontWeight;\n      this._genCanvas();\n    }\n  }, {\n    key: \"strokeWidth\",\n    get: function get() {\n      return this._strokeWidth;\n    },\n    set: function set(strokeWidth) {\n      this._strokeWidth = strokeWidth;\n      this._genCanvas();\n    }\n  }, {\n    key: \"strokeColor\",\n    get: function get() {\n      return this._strokeColor;\n    },\n    set: function set(strokeColor) {\n      this._strokeColor = strokeColor;\n      this._genCanvas();\n    }\n  }, {\n    key: \"_genCanvas\",\n    value: function _genCanvas() {\n      var _this2 = this;\n      var canvas = this._canvas;\n      var ctx = canvas.getContext('2d');\n      var border = Array.isArray(this.borderWidth) ? this.borderWidth : [this.borderWidth, this.borderWidth]; // x,y border\n      var relBorder = border.map(function (b) {\n        return b * _this2.fontSize * 0.1;\n      }); // border in canvas units\n\n      var borderRadius = Array.isArray(this.borderRadius) ? this.borderRadius : [this.borderRadius, this.borderRadius, this.borderRadius, this.borderRadius]; // tl tr br bl corners\n      var relBorderRadius = borderRadius.map(function (b) {\n        return b * _this2.fontSize * 0.1;\n      }); // border radius in canvas units\n\n      var padding = Array.isArray(this.padding) ? this.padding : [this.padding, this.padding]; // x,y padding\n      var relPadding = padding.map(function (p) {\n        return p * _this2.fontSize * 0.1;\n      }); // padding in canvas units\n\n      var lines = this.text.split('\\n');\n      var font = \"\".concat(this.fontWeight, \" \").concat(this.fontSize, \"px \").concat(this.fontFace);\n      ctx.font = font; // measure canvas with appropriate font\n      var innerWidth = Math.max.apply(Math, _toConsumableArray(lines.map(function (line) {\n        return ctx.measureText(line).width;\n      })));\n      var innerHeight = this.fontSize * lines.length;\n      canvas.width = innerWidth + relBorder[0] * 2 + relPadding[0] * 2;\n      canvas.height = innerHeight + relBorder[1] * 2 + relPadding[1] * 2;\n\n      // paint border\n      if (this.borderWidth) {\n        ctx.strokeStyle = this.borderColor;\n        if (relBorder[0]) {\n          // left + right borders\n          var hb = relBorder[0] / 2;\n          ctx.lineWidth = relBorder[0];\n          ctx.beginPath();\n          ctx.moveTo(hb, relBorderRadius[0]);\n          ctx.lineTo(hb, canvas.height - relBorderRadius[3]);\n          ctx.moveTo(canvas.width - hb, relBorderRadius[1]);\n          ctx.lineTo(canvas.width - hb, canvas.height - relBorderRadius[2]);\n          ctx.stroke();\n        }\n        if (relBorder[1]) {\n          // top + bottom borders\n          var _hb = relBorder[1] / 2;\n          ctx.lineWidth = relBorder[1];\n          ctx.beginPath();\n          ctx.moveTo(Math.max(relBorder[0], relBorderRadius[0]), _hb);\n          ctx.lineTo(canvas.width - Math.max(relBorder[0], relBorderRadius[1]), _hb);\n          ctx.moveTo(Math.max(relBorder[0], relBorderRadius[3]), canvas.height - _hb);\n          ctx.lineTo(canvas.width - Math.max(relBorder[0], relBorderRadius[2]), canvas.height - _hb);\n          ctx.stroke();\n        }\n        if (this.borderRadius) {\n          // strike rounded corners\n          var cornerWidth = Math.max.apply(Math, _toConsumableArray(relBorder));\n          var _hb2 = cornerWidth / 2;\n          ctx.lineWidth = cornerWidth;\n          ctx.beginPath();\n          [!!relBorderRadius[0] && [relBorderRadius[0], _hb2, _hb2, relBorderRadius[0]], !!relBorderRadius[1] && [canvas.width - relBorderRadius[1], canvas.width - _hb2, _hb2, relBorderRadius[1]], !!relBorderRadius[2] && [canvas.width - relBorderRadius[2], canvas.width - _hb2, canvas.height - _hb2, canvas.height - relBorderRadius[2]], !!relBorderRadius[3] && [relBorderRadius[3], _hb2, canvas.height - _hb2, canvas.height - relBorderRadius[3]]].filter(function (d) {\n            return d;\n          }).forEach(function (_ref) {\n            var _ref2 = _slicedToArray(_ref, 4),\n              x0 = _ref2[0],\n              x1 = _ref2[1],\n              y0 = _ref2[2],\n              y1 = _ref2[3];\n            ctx.moveTo(x0, y0);\n            ctx.quadraticCurveTo(x1, y0, x1, y1);\n          });\n          ctx.stroke();\n        }\n      }\n\n      // paint background\n      if (this.backgroundColor) {\n        ctx.fillStyle = this.backgroundColor;\n        if (!this.borderRadius) {\n          ctx.fillRect(relBorder[0], relBorder[1], canvas.width - relBorder[0] * 2, canvas.height - relBorder[1] * 2);\n        } else {\n          // fill with rounded corners\n          ctx.beginPath();\n          ctx.moveTo(relBorder[0], relBorderRadius[0]);\n          [[relBorder[0], relBorderRadius[0], canvas.width - relBorderRadius[1], relBorder[1], relBorder[1], relBorder[1]],\n          // t\n          [canvas.width - relBorder[0], canvas.width - relBorder[0], canvas.width - relBorder[0], relBorder[1], relBorderRadius[1], canvas.height - relBorderRadius[2]],\n          // r\n          [canvas.width - relBorder[0], canvas.width - relBorderRadius[2], relBorderRadius[3], canvas.height - relBorder[1], canvas.height - relBorder[1], canvas.height - relBorder[1]],\n          // b\n          [relBorder[0], relBorder[0], relBorder[0], canvas.height - relBorder[1], canvas.height - relBorderRadius[3], relBorderRadius[0]] // t\n          ].forEach(function (_ref3) {\n            var _ref4 = _slicedToArray(_ref3, 6),\n              x0 = _ref4[0],\n              x1 = _ref4[1],\n              x2 = _ref4[2],\n              y0 = _ref4[3],\n              y1 = _ref4[4],\n              y2 = _ref4[5];\n            ctx.quadraticCurveTo(x0, y0, x1, y1);\n            ctx.lineTo(x2, y2);\n          });\n          ctx.closePath();\n          ctx.fill();\n        }\n      }\n      ctx.translate.apply(ctx, _toConsumableArray(relBorder));\n      ctx.translate.apply(ctx, _toConsumableArray(relPadding));\n\n      // paint text\n      ctx.font = font; // Set font again after canvas is resized, as context properties are reset\n      ctx.fillStyle = this.color;\n      ctx.textBaseline = 'bottom';\n      var drawTextStroke = this.strokeWidth > 0;\n      if (drawTextStroke) {\n        ctx.lineWidth = this.strokeWidth * this.fontSize / 10;\n        ctx.strokeStyle = this.strokeColor;\n      }\n      lines.forEach(function (line, index) {\n        var lineX = (innerWidth - ctx.measureText(line).width) / 2;\n        var lineY = (index + 1) * _this2.fontSize;\n        drawTextStroke && ctx.strokeText(line, lineX, lineY);\n        ctx.fillText(line, lineX, lineY);\n      });\n\n      // Inject canvas into sprite\n      if (this.material.map) this.material.map.dispose(); // gc previous texture\n      var texture = this.material.map = new three.CanvasTexture(canvas);\n      texture.colorSpace = three.SRGBColorSpace;\n      var yScale = this.textHeight * lines.length + border[1] * 2 + padding[1] * 2;\n      this.scale.set(yScale * canvas.width / canvas.height, yScale, 0);\n    }\n  }, {\n    key: \"clone\",\n    value: function clone() {\n      return new this.constructor(this.text, this.textHeight, this.color).copy(this);\n    }\n  }, {\n    key: \"copy\",\n    value: function copy(source) {\n      three.Sprite.prototype.copy.call(this, source);\n      this.color = source.color;\n      this.backgroundColor = source.backgroundColor;\n      this.padding = source.padding;\n      this.borderWidth = source.borderWidth;\n      this.borderColor = source.borderColor;\n      this.fontFace = source.fontFace;\n      this.fontSize = source.fontSize;\n      this.fontWeight = source.fontWeight;\n      this.strokeWidth = source.strokeWidth;\n      this.strokeColor = source.strokeColor;\n      return this;\n    }\n  }]);\n}(three.Sprite);\n\nexport { _default as default };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}