{"ast":null,"code":"import React, { forwardRef, useRef, useState, useEffect, useMemo, useCallback, useImperativeHandle, useLayoutEffect } from 'react';\nimport { omit } from 'jerrypick';\nimport fromEntries from 'fromentries';\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nfunction _arrayWithoutHoles(r) {\n  if (Array.isArray(r)) return _arrayLikeToArray(r);\n}\nfunction _iterableToArray(r) {\n  if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n}\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) ;else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _slicedToArray(r, e) {\n  return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest();\n}\nfunction _toConsumableArray(r) {\n  return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread();\n}\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\nvar shallowEq = function shallowEq(o1, o2) {\n  return Object.keys(o1).length === Object.keys(o2).length && Object.keys(o1).every(function (k) {\n    return o1[k] === o2[k];\n  });\n};\nfunction index(kapsuleComponent, comboParam) {\n  var _ref = _typeof(comboParam) === 'object' ? comboParam : {\n      // support old schema for backwards compatibility\n      wrapperElementType: comboParam,\n      methodNames: (arguments.length <= 2 ? undefined : arguments[2]) || undefined,\n      initPropNames: (arguments.length <= 3 ? undefined : arguments[3]) || undefined\n    },\n    _ref$wrapperElementTy = _ref.wrapperElementType,\n    wrapperElementType = _ref$wrapperElementTy === void 0 ? 'div' : _ref$wrapperElementTy,\n    _ref$nodeMapper = _ref.nodeMapper,\n    nodeMapper = _ref$nodeMapper === void 0 ? function (node) {\n      return node;\n    } : _ref$nodeMapper,\n    _ref$methodNames = _ref.methodNames,\n    methodNames = _ref$methodNames === void 0 ? [] : _ref$methodNames,\n    _ref$initPropNames = _ref.initPropNames,\n    initPropNames = _ref$initPropNames === void 0 ? [] : _ref$initPropNames;\n  return /*#__PURE__*/forwardRef(function (props, ref) {\n    var domEl = useRef();\n    var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      prevProps = _useState2[0],\n      setPrevProps = _useState2[1];\n    useEffect(function () {\n      !shallowEq(props, prevProps) && setPrevProps(props);\n    }); // remember previous props\n\n    // instantiate the inner kapsule component with the defined initPropNames\n    var comp = useMemo(function () {\n      var configOptions = fromEntries(initPropNames.filter(function (p) {\n        return props.hasOwnProperty(p);\n      }).map(function (prop) {\n        return [prop, props[prop]];\n      }));\n      return kapsuleComponent(configOptions);\n    }, []);\n    useEffectOnce(function () {\n      comp(nodeMapper(domEl.current)); // mount kapsule synchronously on this element ref, optionally mapped into an object that the kapsule understands\n    }, useLayoutEffect);\n    useEffectOnce(function () {\n      // invoke destructor on unmount, if it exists\n      return comp._destructor instanceof Function ? comp._destructor : undefined;\n    });\n\n    // Call a component method\n    var _call = useCallback(function (method) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n      return comp[method] instanceof Function ? comp[method].apply(comp, args) : undefined;\n    } // method not found\n    , [comp]);\n\n    // propagate component props that have changed\n    var dynamicProps = omit(props, [].concat(_toConsumableArray(methodNames), _toConsumableArray(initPropNames))); // initPropNames or methodNames should not be called\n    Object.keys(dynamicProps).filter(function (p) {\n      return prevProps[p] !== props[p];\n    }).forEach(function (p) {\n      return _call(p, props[p]);\n    });\n\n    // bind external methods to parent ref\n    useImperativeHandle(ref, function () {\n      return fromEntries(methodNames.map(function (method) {\n        return [method, function () {\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          return _call.apply(void 0, [method].concat(args));\n        }];\n      }));\n    });\n    return /*#__PURE__*/React.createElement(wrapperElementType, {\n      ref: domEl\n    });\n  });\n}\n\n//\n\n// Handle R18 strict mode double mount at init\nfunction useEffectOnce(effect) {\n  var useEffectFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : useEffect;\n  var destroyFunc = useRef();\n  var effectCalled = useRef(false);\n  var renderAfterCalled = useRef(false);\n  var _useState3 = useState(0),\n    _useState4 = _slicedToArray(_useState3, 2);\n  _useState4[0];\n  var setVal = _useState4[1];\n  if (effectCalled.current) {\n    renderAfterCalled.current = true;\n  }\n  useEffectFn(function () {\n    // only execute the effect first time around\n    if (!effectCalled.current) {\n      destroyFunc.current = effect();\n      effectCalled.current = true;\n    }\n\n    // this forces one render after the effect is run\n    setVal(function (val) {\n      return val + 1;\n    });\n    return function () {\n      // if the comp didn't render since the useEffect was called,\n      // we know it's the dummy React cycle\n      if (!renderAfterCalled.current) return;\n      if (destroyFunc.current) destroyFunc.current();\n    };\n  }, []);\n}\nexport { index as default };","map":{"version":3,"names":["React","forwardRef","useRef","useState","useEffect","useMemo","useCallback","useImperativeHandle","useLayoutEffect","omit","fromEntries","_arrayLikeToArray","r","a","length","e","n","Array","_arrayWithHoles","isArray","_arrayWithoutHoles","_iterableToArray","Symbol","iterator","from","_iterableToArrayLimit","l","t","i","u","f","o","call","next","done","push","value","return","Object","_nonIterableRest","TypeError","_nonIterableSpread","_slicedToArray","_unsupportedIterableToArray","_toConsumableArray","_typeof","constructor","prototype","toString","slice","name","test","shallowEq","o1","o2","keys","every","k","index","kapsuleComponent","comboParam","_ref","wrapperElementType","methodNames","arguments","undefined","initPropNames","_ref$wrapperElementTy","_ref$nodeMapper","nodeMapper","node","_ref$methodNames","_ref$initPropNames","props","ref","domEl","_useState","_useState2","prevProps","setPrevProps","comp","configOptions","filter","p","hasOwnProperty","map","prop","useEffectOnce","current","_destructor","Function","_call","method","_len","args","_key","apply","dynamicProps","concat","forEach","_len2","_key2","createElement","effect","useEffectFn","destroyFunc","effectCalled","renderAfterCalled","_useState3","_useState4","setVal","val","default"],"sources":["/Users/vivianastaicu/Documents/GitHub/co27showcase/node_modules/react-kapsule/dist/react-kapsule.mjs"],"sourcesContent":["import React, { forwardRef, useRef, useState, useEffect, useMemo, useCallback, useImperativeHandle, useLayoutEffect } from 'react';\nimport { omit } from 'jerrypick';\nimport fromEntries from 'fromentries';\n\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nfunction _arrayWithoutHoles(r) {\n  if (Array.isArray(r)) return _arrayLikeToArray(r);\n}\nfunction _iterableToArray(r) {\n  if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n}\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) ; else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _slicedToArray(r, e) {\n  return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest();\n}\nfunction _toConsumableArray(r) {\n  return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread();\n}\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\n\nvar shallowEq = function shallowEq(o1, o2) {\n  return Object.keys(o1).length === Object.keys(o2).length && Object.keys(o1).every(function (k) {\n    return o1[k] === o2[k];\n  });\n};\nfunction index (kapsuleComponent, comboParam) {\n  var _ref = _typeof(comboParam) === 'object' ? comboParam : {\n      // support old schema for backwards compatibility\n      wrapperElementType: comboParam,\n      methodNames: (arguments.length <= 2 ? undefined : arguments[2]) || undefined,\n      initPropNames: (arguments.length <= 3 ? undefined : arguments[3]) || undefined\n    },\n    _ref$wrapperElementTy = _ref.wrapperElementType,\n    wrapperElementType = _ref$wrapperElementTy === void 0 ? 'div' : _ref$wrapperElementTy,\n    _ref$nodeMapper = _ref.nodeMapper,\n    nodeMapper = _ref$nodeMapper === void 0 ? function (node) {\n      return node;\n    } : _ref$nodeMapper,\n    _ref$methodNames = _ref.methodNames,\n    methodNames = _ref$methodNames === void 0 ? [] : _ref$methodNames,\n    _ref$initPropNames = _ref.initPropNames,\n    initPropNames = _ref$initPropNames === void 0 ? [] : _ref$initPropNames;\n  return /*#__PURE__*/forwardRef(function (props, ref) {\n    var domEl = useRef();\n    var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      prevProps = _useState2[0],\n      setPrevProps = _useState2[1];\n    useEffect(function () {\n      !shallowEq(props, prevProps) && setPrevProps(props);\n    }); // remember previous props\n\n    // instantiate the inner kapsule component with the defined initPropNames\n    var comp = useMemo(function () {\n      var configOptions = fromEntries(initPropNames.filter(function (p) {\n        return props.hasOwnProperty(p);\n      }).map(function (prop) {\n        return [prop, props[prop]];\n      }));\n      return kapsuleComponent(configOptions);\n    }, []);\n    useEffectOnce(function () {\n      comp(nodeMapper(domEl.current)); // mount kapsule synchronously on this element ref, optionally mapped into an object that the kapsule understands\n    }, useLayoutEffect);\n    useEffectOnce(function () {\n      // invoke destructor on unmount, if it exists\n      return comp._destructor instanceof Function ? comp._destructor : undefined;\n    });\n\n    // Call a component method\n    var _call = useCallback(function (method) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n      return comp[method] instanceof Function ? comp[method].apply(comp, args) : undefined;\n    } // method not found\n    , [comp]);\n\n    // propagate component props that have changed\n    var dynamicProps = omit(props, [].concat(_toConsumableArray(methodNames), _toConsumableArray(initPropNames))); // initPropNames or methodNames should not be called\n    Object.keys(dynamicProps).filter(function (p) {\n      return prevProps[p] !== props[p];\n    }).forEach(function (p) {\n      return _call(p, props[p]);\n    });\n\n    // bind external methods to parent ref\n    useImperativeHandle(ref, function () {\n      return fromEntries(methodNames.map(function (method) {\n        return [method, function () {\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          return _call.apply(void 0, [method].concat(args));\n        }];\n      }));\n    });\n    return /*#__PURE__*/React.createElement(wrapperElementType, {\n      ref: domEl\n    });\n  });\n}\n\n//\n\n// Handle R18 strict mode double mount at init\nfunction useEffectOnce(effect) {\n  var useEffectFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : useEffect;\n  var destroyFunc = useRef();\n  var effectCalled = useRef(false);\n  var renderAfterCalled = useRef(false);\n  var _useState3 = useState(0),\n    _useState4 = _slicedToArray(_useState3, 2);\n    _useState4[0];\n    var setVal = _useState4[1];\n  if (effectCalled.current) {\n    renderAfterCalled.current = true;\n  }\n  useEffectFn(function () {\n    // only execute the effect first time around\n    if (!effectCalled.current) {\n      destroyFunc.current = effect();\n      effectCalled.current = true;\n    }\n\n    // this forces one render after the effect is run\n    setVal(function (val) {\n      return val + 1;\n    });\n    return function () {\n      // if the comp didn't render since the useEffect was called,\n      // we know it's the dummy React cycle\n      if (!renderAfterCalled.current) return;\n      if (destroyFunc.current) destroyFunc.current();\n    };\n  }, []);\n}\n\nexport { index as default };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}